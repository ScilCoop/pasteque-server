-- Database initial script for POSTGRESQL

CREATE TABLE  APPLICATIONS (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    VERSION VARCHAR NOT NULL,
    PRIMARY KEY (ID)
);
INSERT INTO APPLICATIONS(ID, NAME, VERSION) VALUES ('pasteque', 'Pasteque', '6');

CREATE TABLE  ROLES (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    PERMISSIONS BYTEA,
    PRIMARY KEY (ID)
);
CREATE UNIQUE INDEX ROLES_NAME_INX ON ROLES(NAME);

CREATE TABLE  PEOPLE (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    APPPASSWORD VARCHAR,
    CARD VARCHAR,
    ROLE VARCHAR NOT NULL,
    VISIBLE BOOLEAN NOT NULL,
    IMAGE BYTEA,
    PRIMARY KEY (ID),
    CONSTRAINT PEOPLE_FK_1 FOREIGN KEY (ROLE) REFERENCES ROLES(ID)
);
CREATE UNIQUE INDEX PEOPLE_NAME_INX ON PEOPLE(NAME);
CREATE INDEX PEOPLE_CARD_INX ON PEOPLE(CARD);

CREATE TABLE  RESOURCES (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    RESTYPE INTEGER NOT NULL,
    CONTENT BYTEA,
    PRIMARY KEY (ID)
);
CREATE UNIQUE INDEX RESOURCES_NAME_INX ON RESOURCES(NAME);

CREATE TABLE  TAXCUSTCATEGORIES (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    PRIMARY KEY (ID)
);
CREATE UNIQUE INDEX TAXCUSTCAT_NAME_INX ON TAXCUSTCATEGORIES(NAME);

CREATE SEQUENCE DISCOUNTPROFILES_ID_SEQ;
CREATE TABLE  DISCOUNTPROFILES (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('DISCOUNTPROFILES_ID_SEQ'),
    NAME VARCHAR NOT NULL,
    RATE DOUBLE PRECISION NOT NULL,
    DISPORDER INTEGER,
    PRIMARY KEY (ID)
);

CREATE TABLE  CUSTOMERS (
    ID VARCHAR NOT NULL,
    SEARCHKEY VARCHAR,
    TAXID VARCHAR,
    NAME VARCHAR NOT NULL,
    TAXCATEGORY VARCHAR,
    DISCOUNTPROFILE_ID INTEGER,
    TARIFFAREA_ID INTEGER,
    CARD VARCHAR,
    MAXDEBT DOUBLE PRECISION DEFAULT 0 NOT NULL,
    ADDRESS VARCHAR,
    ADDRESS2 VARCHAR,
    POSTAL VARCHAR,
    CITY VARCHAR,
    REGION VARCHAR,
    COUNTRY VARCHAR,
    FIRSTNAME VARCHAR,
    LASTNAME VARCHAR,
    EMAIL VARCHAR,
    PHONE VARCHAR,
    PHONE2 VARCHAR,
    FAX VARCHAR,
    NOTES TEXT,
    VISIBLE BOOLEAN NOT NULL DEFAULT TRUE,
    CURDATE TIMESTAMP,
    CURDEBT DOUBLE PRECISION,
    PREPAID DOUBLE PRECISION DEFAULT 0 NOT NULL,
    EXPIREDATE TIMESTAMP,
    PRIMARY KEY (ID),
    CONSTRAINT CUSTOMERS_TAXCAT FOREIGN KEY (TAXCATEGORY) REFERENCES TAXCUSTCATEGORIES(ID),
    CONSTRAINT CUSTOMERS_DISCOUNTPROFILE FOREIGN KEY (DISCOUNTPROFILE_ID) REFERENCES DISCOUNTPROFILES(ID),
    CONSTRAINT CUSTOMERS_TARIFFAREA FOREIGN KEY (TARIFFAREA_ID) REFERENCES TARIFFAREAS(ID)
);
CREATE UNIQUE INDEX CUSTOMERS_SKEY_INX ON CUSTOMERS(SEARCHKEY);
CREATE INDEX CUSTOMERS_TAXID_INX ON CUSTOMERS(TAXID);
CREATE INDEX CUSTOMERS_NAME_INX ON CUSTOMERS(NAME);
CREATE INDEX CUSTOMERS_CARD_INX ON CUSTOMERS(CARD);

CREATE TABLE  CATEGORIES (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    PARENTID VARCHAR,
    IMAGE BYTEA,
    DISPORDER INTEGER DEFAULT NULL,
    PRIMARY KEY(ID),
    CONSTRAINT CATEGORIES_FK_1 FOREIGN KEY (PARENTID) REFERENCES CATEGORIES(ID)
);
CREATE UNIQUE INDEX CATEGORIES_NAME_INX ON CATEGORIES(NAME);

CREATE TABLE  TAXCATEGORIES (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    PRIMARY KEY (ID)
);
CREATE UNIQUE INDEX TAXCAT_NAME_INX ON TAXCATEGORIES(NAME);

CREATE TABLE  TAXES (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    VALIDFROM TIMESTAMP DEFAULT '2001-01-01 00:00:00' NOT NULL,
    CATEGORY VARCHAR NOT NULL,
    CUSTCATEGORY VARCHAR,
    PARENTID VARCHAR,
    RATE DOUBLE PRECISION NOT NULL,
    RATECASCADE BOOLEAN NOT NULL DEFAULT FALSE,
    RATEORDER INTEGER,
    PRIMARY KEY(ID),
    CONSTRAINT TAXES_CAT_FK FOREIGN KEY (CATEGORY) REFERENCES TAXCATEGORIES(ID),
    CONSTRAINT TAXES_CUSTCAT_FK FOREIGN KEY (CUSTCATEGORY) REFERENCES TAXCUSTCATEGORIES(ID),
    CONSTRAINT TAXES_TAXES_FK FOREIGN KEY (PARENTID) REFERENCES TAXES(ID)
);
CREATE UNIQUE INDEX TAXES_NAME_INX ON TAXES(NAME);

CREATE TABLE  ATTRIBUTE (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE  ATTRIBUTEVALUE (
    ID VARCHAR NOT NULL,
    ATTRIBUTE_ID VARCHAR NOT NULL,
    VALUE VARCHAR,
    PRIMARY KEY (ID),
    CONSTRAINT ATTVAL_ATT FOREIGN KEY (ATTRIBUTE_ID) REFERENCES ATTRIBUTE(ID) ON DELETE CASCADE
);

CREATE TABLE  ATTRIBUTESET (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE  ATTRIBUTEUSE (
    ID VARCHAR NOT NULL,
    ATTRIBUTESET_ID VARCHAR NOT NULL,
    ATTRIBUTE_ID VARCHAR NOT NULL,
    LINENO INTEGER,
    PRIMARY KEY (ID),
    CONSTRAINT ATTUSE_SET FOREIGN KEY (ATTRIBUTESET_ID) REFERENCES ATTRIBUTESET(ID) ON DELETE CASCADE,
    CONSTRAINT ATTUSE_ATT FOREIGN KEY (ATTRIBUTE_ID) REFERENCES ATTRIBUTE(ID)
);
CREATE UNIQUE INDEX ATTUSE_LINE ON ATTRIBUTEUSE(ATTRIBUTESET_ID, LINENO);

CREATE TABLE  ATTRIBUTESETINSTANCE (
    ID VARCHAR NOT NULL,
    ATTRIBUTESET_ID VARCHAR NOT NULL,
    DESCRIPTION VARCHAR,
    PRIMARY KEY (ID),
    CONSTRAINT ATTSETINST_SET FOREIGN KEY (ATTRIBUTESET_ID) REFERENCES ATTRIBUTESET(ID) ON DELETE CASCADE
);

CREATE TABLE  ATTRIBUTEINSTANCE (
    ID VARCHAR NOT NULL,
    ATTRIBUTESETINSTANCE_ID VARCHAR NOT NULL,
    ATTRIBUTE_ID VARCHAR NOT NULL,
    VALUE VARCHAR,
    PRIMARY KEY (ID),
    CONSTRAINT ATTINST_SET FOREIGN KEY (ATTRIBUTESETINSTANCE_ID) REFERENCES ATTRIBUTESETINSTANCE(ID) ON DELETE CASCADE,
    CONSTRAINT ATTINST_ATT FOREIGN KEY (ATTRIBUTE_ID) REFERENCES ATTRIBUTE(ID)
);

CREATE TABLE PROVIDERS (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    IMAGE BYTEA,
    ADDRESS VARCHAR,
    ADDRESS2 VARCHAR,
    POSTAL VARCHAR,
    CITY VARCHAR,
    REGION VARCHAR,
    COUNTRY VARCHAR,
    FIRSTNAME VARCHAR,
    LASTNAME VARCHAR,
    EMAIL VARCHAR,
    PHONE VARCHAR,
    PHONE2 VARCHAR,
    WEBSITE VARCHAR,
    FAX VARCHAR,
    NOTES TEXT,
    DISPORDER INTEGER DEFAULT NULL,
    VISIBLE BOOLEAN NOT NULL DEFAULT TRUE,
    PRIMARY KEY (ID)
);

CREATE TABLE  PRODUCTS (
    ID VARCHAR NOT NULL,
    REFERENCE VARCHAR NOT NULL,
    CODE VARCHAR,
    CODETYPE VARCHAR,
    NAME VARCHAR NOT NULL,
    PRICEBUY DOUBLE PRECISION,
    PRICESELL DOUBLE PRECISION NOT NULL,
    CATEGORY VARCHAR NOT NULL,
    PROVIDER VARCHAR,
    TAXCAT VARCHAR NOT NULL,
    ATTRIBUTESET_ID VARCHAR,
    STOCKCOST DOUBLE PRECISION,
    STOCKVOLUME DOUBLE PRECISION,
    IMAGE BYTEA,
    ISCOM BOOLEAN NOT NULL DEFAULT FALSE,
    ISSCALE BOOLEAN NOT NULL DEFAULT FALSE,
    ATTRIBUTES BYTEA,
    DISCOUNTENABLED BOOLEAN NOT NULL DEFAULT FALSE,
    DISCOUNTRATE DOUBLE PRECISION NOT NULL DEFAULT 0.0,
    DELETED BOOLEAN NOT NULL DEFAULT FALSE,
    PRIMARY KEY (ID),
    CONSTRAINT PRODUCTS_FK_1 FOREIGN KEY (CATEGORY) REFERENCES CATEGORIES(ID),
    CONSTRAINT PRODUCTS_TAXCAT_FK FOREIGN KEY (TAXCAT) REFERENCES TAXCATEGORIES(ID),
    CONSTRAINT PRODUCTS_ATTRSET_FK FOREIGN KEY (ATTRIBUTESET_ID) REFERENCES ATTRIBUTESET(ID),
    CONSTRAINT PRODUCTS_PROVIDER_FK FOREIGN KEY (PROVIDER) REFERENCES PROVIDERS(ID)
);
CREATE UNIQUE INDEX PRODUCTS_INX_0 ON PRODUCTS(REFERENCE);
CREATE UNIQUE INDEX PRODUCTS_NAME_INX ON PRODUCTS(NAME);

CREATE TABLE  PRODUCTS_CAT (
    PRODUCT VARCHAR NOT NULL,
    CATORDER INTEGER,
    PRIMARY KEY (PRODUCT),
    CONSTRAINT PRODUCTS_CAT_FK_1 FOREIGN KEY (PRODUCT) REFERENCES PRODUCTS(ID)
);
CREATE INDEX PRODUCTS_CAT_INX_1 ON PRODUCTS_CAT(CATORDER);

CREATE TABLE  PRODUCTS_COM (
    ID VARCHAR NOT NULL,
    PRODUCT VARCHAR NOT NULL,
    PRODUCT2 VARCHAR NOT NULL,
    PRIMARY KEY (ID),
    CONSTRAINT PRODUCTS_COM_FK_1 FOREIGN KEY (PRODUCT) REFERENCES PRODUCTS(ID),
    CONSTRAINT PRODUCTS_COM_FK_2 FOREIGN KEY (PRODUCT2) REFERENCES PRODUCTS(ID)
);
CREATE UNIQUE INDEX PCOM_INX_PROD ON PRODUCTS_COM(PRODUCT, PRODUCT2);

CREATE SEQUENCE SUBGROUPS_ID_SEQ;
CREATE TABLE SUBGROUPS (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('SUBGROUPS_ID_SEQ'),
    COMPOSITION VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    IMAGE BYTEA,
    DISPORDER INTEGER DEFAULT NULL,
    PRIMARY KEY(ID),
    CONSTRAINT SUBGROUPS_FK_1 FOREIGN KEY (COMPOSITION) REFERENCES PRODUCTS(ID) ON DELETE CASCADE
);

CREATE TABLE SUBGROUPS_PROD (
    SUBGROUP INTEGER NOT NULL,
    PRODUCT VARCHAR NOT NULL,
    DISPORDER INTEGER DEFAULT NULL,
    PRIMARY KEY (SUBGROUP, PRODUCT),
    CONSTRAINT SUBGROUPS_PROD_FK_1 FOREIGN KEY (SUBGROUP) REFERENCES SUBGROUPS(ID) ON DELETE CASCADE,
    CONSTRAINT SUBGROUPS_PROD_FK_2 FOREIGN KEY (PRODUCT) REFERENCES PRODUCTS(ID) ON DELETE CASCADE
);

CREATE SEQUENCE TARIFFAREAS_ID_SEQ;
CREATE TABLE TARIFFAREAS (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('TARIFFAREAS_ID_SEQ'),
    NAME VARCHAR NOT NULL,
    TARIFFORDER INTEGER DEFAULT 0,
    NOTES TEXT,
    PRIMARY KEY(ID)
);
CREATE UNIQUE INDEX TARIFFAREAS_NAME_INX ON TARIFFAREAS(NAME);

CREATE TABLE TARIFFAREAS_PROD (
    TARIFFID INTEGER NOT NULL,
    PRODUCTID VARCHAR NOT NULL,
    PRICESELL DOUBLE PRECISION NOT NULL,
    PRIMARY KEY (TARIFFID, PRODUCTID),
    CONSTRAINT TARIFFAREAS_PROD_FK_1 FOREIGN KEY (TARIFFID) REFERENCES TARIFFAREAS(ID) ON DELETE CASCADE,
    CONSTRAINT TARIFFAREAS_PROD_FK_2 FOREIGN KEY (PRODUCTID) REFERENCES PRODUCTS(ID) ON DELETE CASCADE
);

CREATE TABLE  LOCATIONS (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    ADDRESS VARCHAR,
    PRIMARY KEY (ID)
);
CREATE UNIQUE INDEX LOCATIONS_NAME_INX ON LOCATIONS(NAME);

CREATE TABLE  STOCKDIARY (
    ID VARCHAR NOT NULL,
    DATENEW TIMESTAMP NOT NULL,
    REASON INTEGER NOT NULL,
    LOCATION VARCHAR NOT NULL,
    PRODUCT VARCHAR NOT NULL,
    ATTRIBUTESETINSTANCE_ID VARCHAR,
    UNITS DOUBLE PRECISION NOT NULL,
    PRICE DOUBLE PRECISION NOT NULL,
    PRIMARY KEY (ID),
    CONSTRAINT STOCKDIARY_FK_1 FOREIGN KEY (PRODUCT) REFERENCES PRODUCTS(ID),
    CONSTRAINT STOCKDIARY_ATTSETINST FOREIGN KEY (ATTRIBUTESETINSTANCE_ID) REFERENCES ATTRIBUTESETINSTANCE(ID),
    CONSTRAINT STOCKDIARY_FK_2 FOREIGN KEY (LOCATION) REFERENCES LOCATIONS(ID)
);
CREATE INDEX STOCKDIARY_INX_1 ON STOCKDIARY(DATENEW);

CREATE TABLE  STOCKLEVEL (
    ID VARCHAR NOT NULL,
    LOCATION VARCHAR NOT NULL,
    PRODUCT VARCHAR NOT NULL,
    STOCKSECURITY DOUBLE PRECISION,
    STOCKMAXIMUM DOUBLE PRECISION,
    PRIMARY KEY (ID),
    CONSTRAINT STOCKLEVEL_PRODUCT FOREIGN KEY (PRODUCT) REFERENCES PRODUCTS(ID),
    CONSTRAINT STOCKLEVEL_LOCATION FOREIGN KEY (LOCATION) REFERENCES LOCATIONS(ID)
);

CREATE TABLE  STOCKCURRENT (
    LOCATION VARCHAR NOT NULL,
    PRODUCT VARCHAR NOT NULL,
    ATTRIBUTESETINSTANCE_ID VARCHAR,
    UNITS DOUBLE PRECISION NOT NULL,
    CONSTRAINT STOCKCURRENT_FK_1 FOREIGN KEY (PRODUCT) REFERENCES PRODUCTS(ID),
    CONSTRAINT STOCKCURRENT_ATTSETINST FOREIGN KEY (ATTRIBUTESETINSTANCE_ID) REFERENCES ATTRIBUTESETINSTANCE(ID),
    CONSTRAINT STOCKCURRENT_FK_2 FOREIGN KEY (LOCATION) REFERENCES LOCATIONS(ID)
);
CREATE UNIQUE INDEX STOCKCURRENT_INX ON STOCKCURRENT(LOCATION, PRODUCT, ATTRIBUTESETINSTANCE_ID);

CREATE SEQUENCE STOCK_INVENTORY_ID_SEQ;
CREATE TABLE STOCK_INVENTORY (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('STOCK_INVENTORY_ID_SEQ'),
    LOCATION_ID VARCHAR NOT NULL,
    DATE TIMESTAMP NOT NULL,
    PRIMARY KEY (ID)
);

CREATE SEQUENCE STOCK_INVENTORYITEM_ID_SEQ;
CREATE TABLE STOCK_INVENTORYITEM (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('STOCK_INVENTORYITEM_ID_SEQ'),
    INVENTORY_ID INTEGER NOT NULL,
    PRODUCT_ID VARCHAR NOT NULL,
    ATTRSETINST_ID VARCHAR,
    QTY DOUBLE PRECISION NOT NULL,
    LOSTQTY DOUBLE PRECISION NOT NULL,
    DEFECTQTY DOUBLE PRECISION NOT NULL,
    MISSINGQTY DOUBLE PRECISION NOT NULL,
    UNITVALUE DOUBLE PRECISION NOT NULL,
    PRIMARY KEY(ID),
    CONSTRAINT STOCK_INVENTORYITEM_FK_INVENTORY FOREIGN KEY (INVENTORY_ID) REFERENCES STOCK_INVENTORY(ID),
    CONSTRAINT STOCK_INVENTORYITEM_FK_PRODUCT FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS(ID)
);
CREATE UNIQUE INDEX STOCK_INVENTORYITEM_INX ON STOCK_INVENTORYITEM(INVENTORY_ID, PRODUCT_ID, ATTRSETINST_ID);

CREATE SEQUENCE PAYMENTMODES_ID_SEQ;
CREATE TABLE PAYMENTMODES (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('PAYMENTMODES_ID_SEQ'),
    CODE VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    BACKNAME VARCHAR NOT NULL DEFAULT '',
    FLAGS INTEGER DEFAULT 0 NOT NULL,
    ACTIVE BOOLEAN NOT NULL DEFAULT TRUE,
    SYSTEM BOOLEAN NOT NULL DEFAULT FALSE,
    DISPORDER INTEGER DEFAULT 0 NOT NULL,
    IMAGE BYTEA,
    PRIMARY KEY (ID)
);

CREATE TABLE PAYMENTMODES_RETURNS (
    PAYMENTMODE_ID INTEGER NOT NULL,
    MIN DOUBLE PRECISION DEFAULT 0.0 NOT NULL,
    RETURNMODE_ID INTEGER,
    PRIMARY KEY (PAYMENTMODE_ID, MIN),
    CONSTRAINT PAYMENTMODES_RULES_FK FOREIGN KEY (PAYMENTMODE_ID) REFERENCES PAYMENTMODES(ID),
    CONSTRAINT PAYMENTMODES_RULES_FK2 FOREIGN KEY (RETURNMODE_ID) REFERENCES PAYMENTMODES(ID)
);

CREATE TABLE PAYMENTMODES_VALUES (
    PAYMENTMODE_ID INTEGER NOT NULL,
    VALUE DOUBLE PRECISION NOT NULL,
    RESOURCE VARCHAR DEFAULT NULL,
    DISPORDER INTEGER DEFAULT 0 NOT NULL,
    PRIMARY KEY (PAYMENTMODE_ID, VALUE),
    CONSTRAINT PAYMENTMODES_VALUES_FK FOREIGN KEY (PAYMENTMODE_ID) REFERENCES PAYMENTMODES(ID)
);

CREATE SEQUENCE CURRENCIES_ID_SEQ;
CREATE TABLE CURRENCIES (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('CURRENCIES_ID_SEQ'),
    NAME VARCHAR(256) NOT NULL,
    SYMBOL VARCHAR DEFAULT NULL,
    DECIMALSEP VARCHAR DEFAULT NULL,
    THOUSANDSSEP VARCHAR DEFAULT NULL,
    RATE DOUBLE PRECISION NOT NULL DEFAULT 1.0,
    FORMAT VARCHAR NOT NULL DEFAULT '#0.00 $',
    MAIN BOOLEAN NOT NULL,
    ACTIVE BOOLEAN NOT NULL DEFAULT TRUE,
    PRIMARY KEY (ID)
);

CREATE SEQUENCE CASHREGISTERS_ID_SEQ;
CREATE TABLE CASHREGISTERS (
    ID INTEGER NOT NULL DEFAULT NEXTVAL('CASHREGISTERS_ID_SEQ'),
    NAME VARCHAR NOT NULL,
    LOCATION_ID VARCHAR NOT NULL,
    NEXTTICKETID INTEGER NOT NULL DEFAULT 1,
    PRIMARY KEY (ID),
    CONSTRAINT CASHREGISTER_FK_LOCATION FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS(ID)
);

CREATE TABLE  CLOSEDCASH (
    MONEY VARCHAR NOT NULL,
    CASHREGISTER_ID INTEGER NOT NULL,
    HOSTSEQUENCE INTEGER NOT NULL,
    DATESTART TIMESTAMP,
    DATEEND TIMESTAMP,
    OPENCASH DOUBLE PRECISION,
    CLOSECASH DOUBLE PRECISION,
    EXPECTEDCASH DOUBLE PRECISION,
    PRIMARY KEY(MONEY),
    CONSTRAINT CLOSEDCASH_FK_CASHREGISTER FOREIGN KEY (CASHREGISTER_ID) REFERENCES CASHREGISTERS(ID)
);
CREATE INDEX CLOSEDCASH_INX_1 ON CLOSEDCASH(DATESTART);
CREATE UNIQUE INDEX CLOSEDCASH_INX_SEQ ON CLOSEDCASH(CASHREGISTER_ID, HOSTSEQUENCE);

CREATE TABLE  RECEIPTS (
    ID VARCHAR NOT NULL,
    MONEY VARCHAR NOT NULL,
    DATENEW TIMESTAMP NOT NULL,
    ATTRIBUTES BYTEA,
    PRIMARY KEY(ID),
    CONSTRAINT RECEIPTS_FK_MONEY FOREIGN KEY (MONEY) REFERENCES CLOSEDCASH(MONEY)
);
CREATE INDEX RECEIPTS_INX_1 ON RECEIPTS(DATENEW);

CREATE TABLE  TICKETS (
    ID VARCHAR NOT NULL,
    TICKETTYPE INTEGER DEFAULT 0 NOT NULL,
    TICKETID INTEGER NOT NULL,
    PERSON VARCHAR NOT NULL,
    CUSTOMER VARCHAR,
    STATUS INTEGER DEFAULT 0 NOT NULL,
    CUSTCOUNT INTEGER DEFAULT NULL,
    TARIFFAREA INTEGER DEFAULT NULL,
    DISCOUNTRATE DOUBLE PRECISION NOT NULL DEFAULT 0.0,
    DISCOUNTPROFILE_ID INTEGER,
    PRIMARY KEY (ID),
    CONSTRAINT TICKETS_FK_ID FOREIGN KEY (ID) REFERENCES RECEIPTS(ID),
    CONSTRAINT TICKETS_FK_2 FOREIGN KEY (PERSON) REFERENCES PEOPLE(ID),
    CONSTRAINT TICKETS_CUSTOMERS_FK FOREIGN KEY (CUSTOMER) REFERENCES CUSTOMERS(ID),
    CONSTRAINT TICKETS_TARIFFAREA FOREIGN KEY (TARIFFAREA) REFERENCES TARIFFAREAS(ID),
    CONSTRAINT TICKETS_DISCOUNTPROFILE FOREIGN KEY (DISCOUNTPROFILE_ID) REFERENCES DISCOUNTPROFILES(ID)
);
CREATE INDEX TICKETS_TICKETID ON TICKETS(TICKETTYPE, TICKETID);

CREATE TABLE  TICKETLINES (
    TICKET VARCHAR NOT NULL,
    LINE INTEGER NOT NULL,
    PRODUCT VARCHAR,
    ATTRIBUTESETINSTANCE_ID VARCHAR,
    UNITS DOUBLE PRECISION NOT NULL,
    PRICE DOUBLE PRECISION NOT NULL,
    TAXID VARCHAR NOT NULL,
    DISCOUNTRATE DOUBLE PRECISION NOT NULL DEFAULT 0.0,
    ATTRIBUTES BYTEA,
    PRIMARY KEY (TICKET, LINE),
    CONSTRAINT TICKETLINES_FK_TICKET FOREIGN KEY (TICKET) REFERENCES TICKETS(ID),
    CONSTRAINT TICKETLINES_FK_2 FOREIGN KEY (PRODUCT) REFERENCES PRODUCTS(ID),
    CONSTRAINT TICKETLINES_ATTSETINST FOREIGN KEY (ATTRIBUTESETINSTANCE_ID) REFERENCES ATTRIBUTESETINSTANCE(ID),
    CONSTRAINT TICKETLINES_FK_3 FOREIGN KEY (TAXID) REFERENCES TAXES(ID)
);

CREATE TABLE  PAYMENTS (
    ID VARCHAR NOT NULL,
    RECEIPT VARCHAR NOT NULL,
    PAYMENT VARCHAR NOT NULL,
    TOTAL DOUBLE PRECISION NOT NULL,
    CURRENCY INTEGER NOT NULL,
    TOTALCURRENCY DOUBLE PRECISION NOT NULL,
    TRANSID VARCHAR,
    RETURNMSG BYTEA,
    NOTE TEXT,
    PAIRED_WITH VARCHAR,
    PRIMARY KEY (ID),
    CONSTRAINT PAYMENTS_FK_RECEIPT FOREIGN KEY (RECEIPT) REFERENCES RECEIPTS(ID),
    CONSTRAINT PAYMENTS_FK_CURRENCY FOREIGN KEY (CURRENCY) REFERENCES CURRENCIES(ID),
    CONSTRAINT PAYMENTS_FK_PAIRED FOREIGN KEY (PAIRED_WITH) REFERENCES PAYMENTS(ID) ON DELETE CASCADE
);
CREATE INDEX PAYMENTS_INX_1 ON PAYMENTS(PAYMENT);

CREATE TABLE  TAXLINES (
    ID VARCHAR NOT NULL,
    RECEIPT VARCHAR NOT NULL,
    TAXID VARCHAR NOT NULL, 
    BASE DOUBLE PRECISION NOT NULL, 
    AMOUNT DOUBLE PRECISION NOT NULL,
    PRIMARY KEY (ID),
    CONSTRAINT TAXLINES_TAX FOREIGN KEY (TAXID) REFERENCES TAXES(ID),
    CONSTRAINT TAXLINES_RECEIPT FOREIGN KEY (RECEIPT) REFERENCES RECEIPTS(ID)
);

CREATE TABLE  FLOORS (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    IMAGE BYTEA,
    PRIMARY KEY (ID)
);
CREATE UNIQUE INDEX FLOORS_NAME_INX ON FLOORS(NAME);

CREATE TABLE  PLACES (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    X INTEGER NOT NULL,
    Y INTEGER NOT NULL,
    FLOOR VARCHAR NOT NULL,
    PRIMARY KEY (ID),
    CONSTRAINT PLACES_FK_1 FOREIGN KEY (FLOOR) REFERENCES FLOORS(ID)
);
CREATE UNIQUE INDEX PLACES_NAME_INX ON PLACES(NAME);

CREATE TABLE  RESERVATIONS (
    ID VARCHAR NOT NULL,
    CREATED TIMESTAMP NOT NULL,
    DATENEW TIMESTAMP DEFAULT '2001-01-01 00:00:00' NOT NULL,
    TITLE VARCHAR NOT NULL,
    CHAIRS INTEGER NOT NULL,
    ISDONE BOOLEAN NOT NULL,
    DESCRIPTION VARCHAR,
    PRIMARY KEY (ID)
);
CREATE INDEX RESERVATIONS_INX_1 ON RESERVATIONS(DATENEW);

CREATE TABLE  RESERVATION_CUSTOMERS (
    ID VARCHAR NOT NULL,
    CUSTOMER VARCHAR NOT NULL,
    PRIMARY KEY (ID),
    CONSTRAINT RES_CUST_FK_1 FOREIGN KEY (ID) REFERENCES RESERVATIONS(ID),
    CONSTRAINT RES_CUST_FK_2 FOREIGN KEY (CUSTOMER) REFERENCES CUSTOMERS(ID)
);

CREATE TABLE  THIRDPARTIES (
    ID VARCHAR NOT NULL,
    CIF VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    ADDRESS VARCHAR,
    CONTACTCOMM VARCHAR,
    CONTACTFACT VARCHAR,
    PAYRULE VARCHAR,
    FAXNUMBER VARCHAR,
    PHONENUMBER VARCHAR,
    MOBILENUMBER VARCHAR,
    EMAIL VARCHAR,
    WEBPAGE VARCHAR,
    NOTES TEXT,
    PRIMARY KEY (ID)
);
CREATE UNIQUE INDEX THIRDPARTIES_CIF_INX ON THIRDPARTIES(CIF);
CREATE UNIQUE INDEX THIRDPARTIES_NAME_INX ON THIRDPARTIES(NAME);

CREATE TABLE  SHAREDTICKETS (
    ID VARCHAR NOT NULL,
    NAME VARCHAR NOT NULL,
    CUSTOMER_ID VARCHAR,
    CUSTCOUNT INTEGER DEFAULT NULL,
    TARIFFAREA_ID INTEGER,
    DISCOUNTPROFILE_ID INTEGER,
    DISCOUNTRATE DOUBLE PRECISION DEFAULT 0.0,
    CONSTRAINT SHARED_TICKET_FK_1 FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(ID),
    CONSTRAINT SHARED_TICKET_FK_2 FOREIGN KEY (TARIFFAREA_ID) REFERENCES TARIFFAREAS(ID),
    CONSTRAINT SHARED_TICKET_FK_3 FOREIGN KEY (DISCOUNTPROFILE_ID) REFERENCES DISCOUNTPROFILES(ID),
    PRIMARY KEY(ID)
);

CREATE TABLE  SHAREDTICKETLINES (
    ID VARCHAR NOT NULL,
    SHAREDTICKET_ID VARCHAR NOT NULL,
    LINE INTEGER NOT NULL,
    PRODUCT_ID VARCHAR,
    TAX_ID VARCHAR NOT NULL,
    QUANTITY INTEGER NOT NULL,
    DISCOUNTRATE DOUBLE PRECISION DEFAULT 0.0,
    PRICE DOUBLE PRECISION,
    ATTRIBUTES BYTEA,
    CONSTRAINT SHARED_TICKET_LINES_FK_1 FOREIGN KEY (SHAREDTICKET_ID) REFERENCES SHAREDTICKETS(ID),
    CONSTRAINT SHARED_TICKET_LINES_FK_2 FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS(ID),
    CONSTRAINT SHARED_TICKET_LINES_FK_3 FOREIGN KEY (TAX_ID) REFERENCES TAXES(ID),
    PRIMARY KEY(ID)
);

CREATE TABLE ORDERS (
    ID VARCHAR NOT NULL ,
    ORDERTYPE INTEGER NOT NULL DEFAULT '0',
    ORDERID INTEGER NOT NULL ,
    PERSON VARCHAR NOT NULL ,
    CUSTOMER VARCHAR DEFAULT NULL ,
    STATUS INTEGER NOT NULL DEFAULT '0',
    NOTES TEXT DEFAULT NULL,
    DATE DATETIME NOT NULL,
    PRIMARY KEY(ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE ORDERLINES (
    ORDER VARCHAR,
    LINE INTEGER,
    PRODUCT VARCHAR,
    ATTRIBUTEINSTANCE_ID VARCHAR,
    UNITS DOUBLE,
    ATTRIBUTES BYTEA
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO ROLES (ID, NAME, PERMISSIONS) VALUES
('0', 'Administrator', '\x3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0a3c212d2d200a202020204f70656e627261766f20504f53206973206120706f696e74206f662073616c6573206170706c69636174696f6e2064657369676e656420666f7220746f7563682073637265656e732e0a20202020436f707972696768742028432920323030382d32303039204f70656e627261766f2c20532e4c2e0a20202020687474703a2f2f736f75726365666f7267652e6e65742f70726f6a656374732f6f70656e627261766f706f730a0a20202020546869732066696c652069732070617274206f66204f70656e627261766f20504f532e0a0a202020204f70656e627261766f20504f53206973206672656520736f6674776172653a20796f752063616e2072656469737472696275746520697420616e642f6f72206d6f646966790a20202020697420756e64657220746865207465726d73206f662074686520474e552047656e6572616c205075626c6963204c6963656e7365206173207075626c69736865642062790a20202020746865204672656520536f66747761726520466f756e646174696f6e2c206569746865722076657273696f6e2033206f6620746865204c6963656e73652c206f720a2020202028617420796f7572206f7074696f6e2920616e79206c617465722076657273696f6e2e0a0a202020204f70656e627261766f20504f5320697320646973747269627574656420696e2074686520686f706520746861742069742077696c6c2062652075736566756c2c0a2020202062757420574954484f555420414e592057415252414e54593b20776974686f7574206576656e2074686520696d706c6965642077617272616e7479206f660a202020204d45524348414e544142494c495459206f72204649544e45535320464f52204120504152544943554c415220505552504f53452e2020536565207468650a20202020474e552047656e6572616c205075626c6963204c6963656e736520666f72206d6f72652064657461696c732e0a0a20202020596f752073686f756c642068617665207265636569766564206120636f7079206f662074686520474e552047656e6572616c205075626c6963204c6963656e73650a20202020616c6f6e672077697468204f70656e627261766f20504f532e20204966206e6f742c20736565203c687474703a2f2f7777772e676e752e6f72672f6c6963656e7365732f3e2e0a202d2d3e0a3c7065726d697373696f6e733e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b657453616c6573222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b65744564697473222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e637573746f6d6572732e437573746f6d6572735061796d656e74222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e70616e656c732e4a50616e656c5061796d656e7473222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e70616e656c732e4a50616e656c436c6f73654d6f6e6579222f3e0a202020203c636c617373206e616d653d2273616c65732e456469744c696e6573222f3e0a202020203c636c617373206e616d653d2273616c65732e456469745469636b6574222f3e0a202020203c636c617373206e616d653d2273616c65732e526566756e645469636b6574222f3e0a202020203c636c617373206e616d653d2273616c65732e5072696e745469636b6574222f3e0a202020203c636c617373206e616d653d2273616c65732e546f74616c222f3e0a202020203c212d2d203c636c617373206e616d653d2273616c65732e4368616e67655461784f7074696f6e73222f3e202d2d3e0a202020203c636c617373206e616d653d227061796d656e742e63617368222f3e0a202020203c636c617373206e616d653d227061796d656e742e636865717565222f3e0a202020203c636c617373206e616d653d227061796d656e742e7061706572222f3e0a202020203c636c617373206e616d653d227061796d656e742e6d616763617264222f3e0a202020203c636c617373206e616d653d227061796d656e742e66726565222f3e0a202020203c636c617373206e616d653d227061796d656e742e64656274222f3e0a202020203c636c617373206e616d653d227061796d656e742e70726570616964222f3e0a202020203c636c617373206e616d653d22726566756e642e63617368222f3e0a202020203c636c617373206e616d653d22726566756e642e636865717565222f3e0a202020203c636c617373206e616d653d22726566756e642e7061706572222f3e0a202020203c636c617373206e616d653d22726566756e642e6d616763617264222f3e0a202020203c636c617373206e616d653d224d656e752e4261636b4f6666696365222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e666f726d732e4d656e754d61696e74656e616e6365222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e61646d696e2e5265736f757263657350616e656c222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f7373796e632e50726f647563747353796e63437265617465222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f7373796e632e4f726465727353796e63437265617465222f3e0a202020203c636c617373206e616d653d224d656e752e4368616e676550617373776f7264222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e70616e656c732e4a50616e656c5072696e746572222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e636f6e6669672e4a50616e656c436f6e66696775726174696f6e222f3e0a202020203c636c617373206e616d653d22627574746f6e2e7072696e74222f3e0a202020203c636c617373206e616d653d22627574746f6e2e6f70656e647261776572222f3e0a202020203c636c617373206e616d653d22627574746f6e2e6f70656e6d6f6e6579222f3e0a3c2f7065726d697373696f6e733e0a'),
('1', 'Manager', '\x3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0a3c212d2d200a202020204f70656e627261766f20504f53206973206120706f696e74206f662073616c6573206170706c69636174696f6e2064657369676e656420666f7220746f7563682073637265656e732e0a20202020436f707972696768742028432920323030382d32303039204f70656e627261766f2c20532e4c2e0a20202020687474703a2f2f736f75726365666f7267652e6e65742f70726f6a656374732f6f70656e627261766f706f730a0a20202020546869732066696c652069732070617274206f66204f70656e627261766f20504f532e0a0a202020204f70656e627261766f20504f53206973206672656520736f6674776172653a20796f752063616e2072656469737472696275746520697420616e642f6f72206d6f646966790a20202020697420756e64657220746865207465726d73206f662074686520474e552047656e6572616c205075626c6963204c6963656e7365206173207075626c69736865642062790a20202020746865204672656520536f66747761726520466f756e646174696f6e2c206569746865722076657273696f6e2033206f6620746865204c6963656e73652c206f720a2020202028617420796f7572206f7074696f6e2920616e79206c617465722076657273696f6e2e0a0a202020204f70656e627261766f20504f5320697320646973747269627574656420696e2074686520686f706520746861742069742077696c6c2062652075736566756c2c0a2020202062757420574954484f555420414e592057415252414e54593b20776974686f7574206576656e2074686520696d706c6965642077617272616e7479206f660a202020204d45524348414e544142494c495459206f72204649544e45535320464f52204120504152544943554c415220505552504f53452e2020536565207468650a20202020474e552047656e6572616c205075626c6963204c6963656e736520666f72206d6f72652064657461696c732e0a0a20202020596f752073686f756c642068617665207265636569766564206120636f7079206f662074686520474e552047656e6572616c205075626c6963204c6963656e73650a20202020616c6f6e672077697468204f70656e627261766f20504f532e20204966206e6f742c20736565203c687474703a2f2f7777772e676e752e6f72672f6c6963656e7365732f3e2e0a202d2d3e0a3c7065726d697373696f6e733e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b657453616c6573222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b65744564697473222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e637573746f6d6572732e437573746f6d6572735061796d656e74222f3e202020200a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e70616e656c732e4a50616e656c5061796d656e7473222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e70616e656c732e4a50616e656c436c6f73654d6f6e6579222f3e0a202020203c636c617373206e616d653d2273616c65732e456469744c696e6573222f3e0a202020203c636c617373206e616d653d2273616c65732e526566756e645469636b6574222f3e0a202020203c636c617373206e616d653d2273616c65732e5072696e745469636b6574222f3e0a202020203c636c617373206e616d653d2273616c65732e546f74616c222f3e0a202020203c636c617373206e616d653d227061796d656e742e63617368222f3e0a202020203c636c617373206e616d653d227061796d656e742e636865717565222f3e0a202020203c636c617373206e616d653d227061796d656e742e7061706572222f3e0a202020203c636c617373206e616d653d227061796d656e742e6d616763617264222f3e0a202020203c636c617373206e616d653d227061796d656e742e66726565222f3e0a202020203c636c617373206e616d653d227061796d656e742e64656274222f3e202020200a202020203c636c617373206e616d653d227061796d656e742e70726570616964222f3e0a202020203c636c617373206e616d653d22726566756e642e63617368222f3e0a202020203c636c617373206e616d653d22726566756e642e636865717565222f3e0a202020203c636c617373206e616d653d22726566756e642e7061706572222f3e0a202020203c636c617373206e616d653d22726566756e642e6d616763617264222f3e0a202020203c636c617373206e616d653d224d656e752e4261636b4f6666696365222f3e0a202020203c636c617373206e616d653d224d656e752e4368616e676550617373776f7264222f3e0a202020203c636c617373206e616d653d22627574746f6e2e7072696e74222f3e0a202020203c636c617373206e616d653d22627574746f6e2e6f70656e647261776572222f3e0a202020203c636c617373206e616d653d22627574746f6e2e6f70656e6d6f6e6579222f3e0a3c2f7065726d697373696f6e733e0a'),
('2', 'Employee', '\x3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0a3c212d2d200a202020204f70656e627261766f20504f53206973206120706f696e74206f662073616c6573206170706c69636174696f6e2064657369676e656420666f7220746f7563682073637265656e732e0a20202020436f707972696768742028432920323030382d32303039204f70656e627261766f2c20532e4c2e0a20202020687474703a2f2f736f75726365666f7267652e6e65742f70726f6a656374732f6f70656e627261766f706f730a0a20202020546869732066696c652069732070617274206f66204f70656e627261766f20504f532e0a0a202020204f70656e627261766f20504f53206973206672656520736f6674776172653a20796f752063616e2072656469737472696275746520697420616e642f6f72206d6f646966790a20202020697420756e64657220746865207465726d73206f662074686520474e552047656e6572616c205075626c6963204c6963656e7365206173207075626c69736865642062790a20202020746865204672656520536f66747761726520466f756e646174696f6e2c206569746865722076657273696f6e2033206f6620746865204c6963656e73652c206f720a2020202028617420796f7572206f7074696f6e2920616e79206c617465722076657273696f6e2e0a0a202020204f70656e627261766f20504f5320697320646973747269627574656420696e2074686520686f706520746861742069742077696c6c2062652075736566756c2c0a2020202062757420574954484f555420414e592057415252414e54593b20776974686f7574206576656e2074686520696d706c6965642077617272616e7479206f660a202020204d45524348414e544142494c495459206f72204649544e45535320464f52204120504152544943554c415220505552504f53452e2020536565207468650a20202020474e552047656e6572616c205075626c6963204c6963656e736520666f72206d6f72652064657461696c732e0a0a20202020596f752073686f756c642068617665207265636569766564206120636f7079206f662074686520474e552047656e6572616c205075626c6963204c6963656e73650a20202020616c6f6e672077697468204f70656e627261766f20504f532e20204966206e6f742c20736565203c687474703a2f2f7777772e676e752e6f72672f6c6963656e7365732f3e2e0a202d2d3e0a3c7065726d697373696f6e733e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b657453616c6573222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b65744564697473222f3e0a202020203c636c617373206e616d653d2266722e70617374657175652e706f732e70616e656c732e4a50616e656c5061796d656e7473222f3e0a202020203c636c617373206e616d653d2273616c65732e456469744c696e6573222f3e0a202020203c636c617373206e616d653d2273616c65732e526566756e645469636b6574222f3e0a202020203c636c617373206e616d653d2273616c65732e5072696e745469636b6574222f3e0a202020203c636c617373206e616d653d2273616c65732e546f74616c222f3e0a202020203c636c617373206e616d653d227061796d656e742e63617368222f3e0a202020203c636c617373206e616d653d227061796d656e742e636865717565222f3e0a202020203c636c617373206e616d653d227061796d656e742e7061706572222f3e0a202020203c636c617373206e616d653d227061796d656e742e6d616763617264222f3e0a202020203c636c617373206e616d653d227061796d656e742e66726565222f3e0a202020203c636c617373206e616d653d227061796d656e742e70726570616964222f3e0a202020203c636c617373206e616d653d22726566756e642e63617368222f3e0a202020203c636c617373206e616d653d22726566756e642e636865717565222f3e0a202020203c636c617373206e616d653d22726566756e642e7061706572222f3e0a202020203c636c617373206e616d653d22726566756e642e6d616763617264222f3e0a202020203c636c617373206e616d653d224d656e752e4368616e676550617373776f7264222f3e0a202020203c636c617373206e616d653d22627574746f6e2e7072696e74222f3e0a3c2f7065726d697373696f6e733e0a');

INSERT INTO PEOPLE(ID, NAME, APPPASSWORD, ROLE, VISIBLE, IMAGE) VALUES ('0', 'Administrator', NULL, '0', TRUE, NULL);
INSERT INTO PEOPLE(ID, NAME, APPPASSWORD, ROLE, VISIBLE, IMAGE) VALUES ('1', 'Manager', NULL, '1', TRUE, NULL);
INSERT INTO PEOPLE(ID, NAME, APPPASSWORD, ROLE, VISIBLE, IMAGE) VALUES ('2', 'Employee', NULL, '2', TRUE, NULL);

INSERT INTO RESOURCES (ID, NAME, RESTYPE, CONTENT) VALUES
('5', 'Printer.OpenDrawer', 0, '\x3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0a3c212d2d200a202020204f70656e627261766f20504f53206973206120706f696e74206f662073616c6573206170706c69636174696f6e2064657369676e656420666f7220746f7563682073637265656e732e0a20202020436f707972696768742028432920323030382d32303039204f70656e627261766f2c20532e4c2e0a20202020687474703a2f2f736f75726365666f7267652e6e65742f70726f6a656374732f6f70656e627261766f706f730a0a20202020546869732066696c652069732070617274206f66204f70656e627261766f20504f532e0a0a202020204f70656e627261766f20504f53206973206672656520736f6674776172653a20796f752063616e2072656469737472696275746520697420616e642f6f72206d6f646966790a20202020697420756e64657220746865207465726d73206f662074686520474e552047656e6572616c205075626c6963204c6963656e7365206173207075626c69736865642062790a20202020746865204672656520536f66747761726520466f756e646174696f6e2c206569746865722076657273696f6e2033206f6620746865204c6963656e73652c206f720a2020202028617420796f7572206f7074696f6e2920616e79206c617465722076657273696f6e2e0a0a202020204f70656e627261766f20504f5320697320646973747269627574656420696e2074686520686f706520746861742069742077696c6c2062652075736566756c2c0a2020202062757420574954484f555420414e592057415252414e54593b20776974686f7574206576656e2074686520696d706c6965642077617272616e7479206f660a202020204d45524348414e544142494c495459206f72204649544e45535320464f52204120504152544943554c415220505552504f53452e2020536565207468650a20202020474e552047656e6572616c205075626c6963204c6963656e736520666f72206d6f72652064657461696c732e0a0a20202020596f752073686f756c642068617665207265636569766564206120636f7079206f662074686520474e552047656e6572616c205075626c6963204c6963656e73650a20202020616c6f6e672077697468204f70656e627261766f20504f532e20204966206e6f742c20736565203c687474703a2f2f7777772e676e752e6f72672f6c6963656e7365732f3e2e0a202d2d3e0a3c6f75747075743e0a202020203c6f70656e6472617765722f3e2020200a3c2f6f75747075743e0a'),
('6', 'Printer.Ticket.Logo', 1, '\x89504e470d0a1a0a0000000d49484452000000d2000000140806000000f82863eb000000017352474200aece1ce900000006624b474400ff00ff00ffa0bda793000000097048597300000f6100000f6101a83fa7690000000774494d4507dd03060e1e25956446cf0000001974455874436f6d6d656e74004372656174656420776974682047494d5057810e17000002144944415478daed5b4b0ec52008d4c6fb5f99b77a8931b5151810b54dba6b0586af8239a54449f91051e67c9f73266b1a685a9275507271684b7142c9394aff8e8e8477c43aa3323fad5b10c65033d223a655d0080d14bdffbf5aa344e26acd3b2a5044c1ce12db3bf9ae080ca26978f0602d1f32f0ccd059641d20786bd728568c5a47a41e8d2790acb2a5b7926b399ebe1fd183a5ec1e7680c6b7e57714dfa2adb3bdf63b1a85bfd11b014f5a4ea2b0ecadf3e6541263d6187fcb432467eae1fbc4df28beead26e142422caff1745c7f200208af239bcf4beede184daf023ff8fe4449c6faf74c0b3c29ec9c2a877718248f2f6025539c501dab576361a22caab1fb8ac16a4ca4ecec231a29d1d0bb557daddb99078146f27f088949288cced537d25e93a3d230f7c8b0501cf8381371e3c9b9aa7964b5fb6732aedb8bd116404e1f405be7208532ad515c129f8411d09d520f5c8542b9450918df0ae7c6e9d29b2e1bb1d365802110de4a732f0cb4a72673a89cf6b9548e87548719acc276578cb277c43963bc08918f88c546a580eaf6af68f16cea4396995f2a8bd25f0ffbfcc720eeb6886ba76e199a57ac7f61c593ca7c66b7eb8e5935456eed0a9d61e47e9e77473b10f6d3c9619021555118ab1bcac662903b2ddc1c1c0c22e664cbb4386563df61eb3864867ed99569eb1e30e81a2688fae65654b2e19495b3678473be4b5f655ae7ea374242dada5b2cec4b7a6fd036c234461a7270cfd0000000049454e44ae426082'),
('9', 'Window.Logo', 1, '\x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af4000000017352474200aece1ce900000006624b474400ff00ff00ffa0bda793000000097048597300000b1300000b1301009a9c180000000774494d4507dd03060e133bdac505e10000001974455874436f6d6d656e74004372656174656420776974682047494d5057810e17000005454944415458c3bd577d6c535514ffddf75edbd7756c085860c0f8281b0475a163086ccc6822428601515051841164a022241064c110a6d1981831914fc93e981b32951105276ea220631f308246c88009515137e8704057585fdbf7def10f68e9db7bedea4c384993f6f4de7bcef9fd7ef7dc7bd9dafc8de9e75b2e6c5664398b70ef4c142df58f664f5dc91e9b36ab4e927c998c310060f7283e1111eeebdbb741f07aa52cc618450b4e44f07a25c88a0c22e381c105044180d52ae24e41918c31c6c8dde9ce12388e8b58b92449183224093933a6e1e1894ed8ed76984c0240c66429aa0a97ab1db5c71a71f8482dfe6e6d83288a2022a3841811c0321f9941ddab658cc1ef0fe0c30fde4176d6648d3f066c43e35a7ebd8875ebdf82cbd58e3b85ea8c33c006a228e2bb8395989a3949e38fc5c2c7a5a638f05565399e9c391d5e4902192027747778bd12bedc5b86c4c4849883f684c89bf9ab210702a83974448724173ed0e7f3e3ed827cdc6f1fa0838c88620e184e05630c44848d1bd621de66d315a5d1409f3ef1a8aedaab5b545555701c87b3e75ae0f1dc8411304480d96cc2a89123909898a0ab948850df7002ab56af87285af414101172663c6e18dce56ac782dce5b87edd0d8e8b4c8b4a0481e731ef99a7b076cd0a4d128c314c9e3411365b1c1445d127e0952464674dd14c2222701c871716e6c1ef0fc06a1563a2e0b32ff6212969205e9c3f4f2b3881c790a441f8f3af56bd0624af84b4b40734b031c6d078fc243a3d3763165d7017eddeb3d7501bc9c9c3347a0a25a0280a789ed72d78c5d50ec1c0df130ab76e75196ecfeee2befb8b455c2daada155585aaaa1adf6df5c796acd0dbbd0d0076fb003c3b770e0281000e5455a3b5f53200fa4ffda3570930c6909c3c1415e585a164162e780e2f2f5b85e6b3e77b6cd1515b712ce6f3f9b07c69aeaed914edfc0829290e10116459d1882d18dcdbe5fdff09288a8ab8b8381def4484b292ed183b26058140007b2a2a35f33a3aaea1e1789306895e5160b58a3850f52d26663875f012114a0ab760f1d2d7f1fea62d387da6194e671a5ced5751b96f3f4c2653040d5044c20dddd5353f60f0a0817875f9120dcc41444a8bb662d192d7505bd788a3758de0ee501551033ccf430d6b91411b3634c9904fb3d98ce25d9f62db8e624df5e1df3f29de867163c744bde771772f89227e39d3ac3bf5322638919aea80aa92d1c512c5bb76636761a94668e1c22c2edc8c31a9a3414486272a3f6cf8e80204ef72a205995326e9b6cfdca767c1e3f1e0c2c5df350709d8edff7ffaf934006042faf86ecde876127366cf445dfd71fcd3714d7769d11cc716b319870fedd7c019be2000f8fcfe10a48c315cbdda8177dfdb84fac6262ccbcbc52b798b23ce5f92b71267cfb5849203007e68b2a3203850f2f9a1280a32263875708654cbf3e0c33ef1f136cccc7902df1c3c84a3b50d10041ee9ce34cddce0fab367e5a0f65803aedf70dfa52079444a417030cf73683a790aa9290e8c1c315c577db4ced8dada860b177f43d3c953608c45a423237d3c4acb2a60b1988d1b91288a589bbf11e5bb3fd728baa7f6eab9790b0060369bb17d67098a4aca35818389d8ed0320cb72f44e68b158b0754711e63e9f8bd3679a232210f4b75dbe82ea9aef43bfe3ac567c5c588ad2b20add9cc33f1e437cbccd588446d5757579d1af5f5f3cf4e03838468dd49de737dc6e7c5d55039ee70c1f368b5e9a8f952bf20000279a4e61cd1b1bb43d654af6748a85e768b7e26873655986dbdd0993c90493c904ab55fb52121212fa5067a7a7c787696fdf088220a07fff7eba830b000d1e3c085c5b5bdb28ab28e25e58b8a86db638fc71e992e35feea16b1cae637dab0000000049454e44ae426082'),
('11', 'Ticket.Buttons', 0, '\x3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0a3c212d2d200a202020204f70656e627261766f20504f53206973206120706f696e74206f662073616c6573206170706c69636174696f6e2064657369676e656420666f7220746f7563682073637265656e732e0a20202020436f707972696768742028432920323030382d32303039204f70656e627261766f2c20532e4c2e0a20202020687474703a2f2f736f75726365666f7267652e6e65742f70726f6a656374732f6f70656e627261766f706f730a0a20202020546869732066696c652069732070617274206f66204f70656e627261766f20504f532e0a0a202020204f70656e627261766f20504f53206973206672656520736f6674776172653a20796f752063616e2072656469737472696275746520697420616e642f6f72206d6f646966790a20202020697420756e64657220746865207465726d73206f662074686520474e552047656e6572616c205075626c6963204c6963656e7365206173207075626c69736865642062790a20202020746865204672656520536f66747761726520466f756e646174696f6e2c206569746865722076657273696f6e2033206f6620746865204c6963656e73652c206f720a2020202028617420796f7572206f7074696f6e2920616e79206c617465722076657273696f6e2e0a0a202020204f70656e627261766f20504f5320697320646973747269627574656420696e2074686520686f706520746861742069742077696c6c2062652075736566756c2c0a2020202062757420574954484f555420414e592057415252414e54593b20776974686f7574206576656e2074686520696d706c6965642077617272616e7479206f660a202020204d45524348414e544142494c495459206f72204649544e45535320464f52204120504152544943554c415220505552504f53452e2020536565207468650a20202020474e552047656e6572616c205075626c6963204c6963656e736520666f72206d6f72652064657461696c732e0a0a20202020596f752073686f756c642068617665207265636569766564206120636f7079206f662074686520474e552047656e6572616c205075626c6963204c6963656e73650a20202020616c6f6e672077697468204f70656e627261766f20504f532e20204966206e6f742c20736565203c687474703a2f2f7777772e676e752e6f72672f6c6963656e7365732f3e2e0a202d2d3e0a3c636f6e66696775726174696f6e3e0a202020203c627574746f6e206b65793d22627574746f6e2e7072696e7422207469746c656b65793d22627574746f6e2e7072696e74222074656d706c6174653d225072696e7465722e5469636b657450726576696577222f3e0a202020203c627574746f6e206b65793d22627574746f6e2e6f70656e64726177657222207469746c656b65793d22627574746f6e2e6f70656e647261776572222074656d706c6174653d225072696e7465722e4f70656e447261776572222f3e0a202020203c212d2d203c6576656e74206b65793d227469636b65742e6368616e67652220636f64653d226576656e742e6368616e6765222f3e202d2d3e0a202020203c212d2d203c6576656e74206b65793d227469636b65742e6164646c696e652220636f64653d226576656e742e6164646c696e65222f3e202d2d3e0a202020203c212d2d203c6576656e74206b65793d227469636b65742e72656d6f76656c696e652220636f64653d226576656e742e72656d6f76656c696e65222f3e202d2d3e0a202020203c212d2d203c6576656e74206b65793d227469636b65742e7365746c696e652220636f64653d226576656e742e7365746c696e65222f3e202d2d3e0a202020203c212d2d203c6576656e74206b65793d227469636b65742e73686f772220636f64653d226576656e742e73686f77222f3e202d2d3e0a202020203c212d2d203c6576656e74206b65793d227469636b65742e746f74616c2220636f64653d226576656e742e746f74616c222f3e202d2d3e0a202020203c212d2d203c6576656e74206b65793d227469636b65742e636c6f73652220636f64653d226576656e742e636c6f7365222f3e202d2d3e2020200a202020203c696d672d77696474682076616c75653d22313238222f3e0a202020203c696d672d6865696768742076616c75653d223634222f3e0a202020203c6361742d6865696768742076616c75653d2233303022202f3e0a202020203c7461786573696e636c756465642076616c75653d2266616c7365222f3e2020200a202020203c212d2d203c7072696e7473656c65637465642076616c75653d2274727565222f3e202d2d3e202020200a202020203c212d2d203c74617863617465676f727969642076616c75653d22303031222f3e202d2d3e0a202020203c212d2d203c707269636576697369626c652076616c75653d227472756522202f3e202d2d3e0a3c2f636f6e66696775726174696f6e3e0a'),
('12', 'Ticket.Line', 0, '\x3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0a3c212d2d200a202020204f70656e627261766f20504f53206973206120706f696e74206f662073616c6573206170706c69636174696f6e2064657369676e656420666f7220746f7563682073637265656e732e0a20202020436f707972696768742028432920323030372d32303039204f70656e627261766f2c20532e4c2e0a20202020687474703a2f2f736f75726365666f7267652e6e65742f70726f6a656374732f6f70656e627261766f706f730a0a20202020546869732066696c652069732070617274206f66204f70656e627261766f20504f532e0a0a202020204f70656e627261766f20504f53206973206672656520736f6674776172653a20796f752063616e2072656469737472696275746520697420616e642f6f72206d6f646966790a20202020697420756e64657220746865207465726d73206f662074686520474e552047656e6572616c205075626c6963204c6963656e7365206173207075626c69736865642062790a20202020746865204672656520536f66747761726520466f756e646174696f6e2c206569746865722076657273696f6e2033206f6620746865204c6963656e73652c206f720a2020202028617420796f7572206f7074696f6e2920616e79206c617465722076657273696f6e2e0a0a202020204f70656e627261766f20504f5320697320646973747269627574656420696e2074686520686f706520746861742069742077696c6c2062652075736566756c2c0a2020202062757420574954484f555420414e592057415252414e54593b20776974686f7574206576656e2074686520696d706c6965642077617272616e7479206f660a202020204d45524348414e544142494c495459206f72204649544e45535320464f52204120504152544943554c415220505552504f53452e2020536565207468650a20202020474e552047656e6572616c205075626c6963204c6963656e736520666f72206d6f72652064657461696c732e0a0a20202020596f752073686f756c642068617665207265636569766564206120636f7079206f662074686520474e552047656e6572616c205075626c6963204c6963656e73650a20202020616c6f6e672077697468204f70656e627261766f20504f532e20204966206e6f742c20736565203c687474703a2f2f7777772e676e752e6f72672f6c6963656e7365732f3e2e0a202d2d3e0a0a3c6c696e653e0a202020203c636f6c756d6e206e616d653d226c6162656c2e6974656d222077696474683d223132352220616c69676e3d226c656674222076616c75653d22266c743b68746d6c2667743b247b7469636b65746c696e652e7072696e744d756c7469706c7928297d782369662028247469636b65746c696e652e697350726f64756374436f6d28292920266c743b692667743b2a26616d703b6e6273703b26616d703b6e6273703b247b7469636b65746c696e652e7072696e744e616d6528297d266c743b2f692667743b2023656c736520247b7469636b65746c696e652e7072696e744e616d6528297d2023656e64266c743b62722667743b247b7469636b65746c696e652e67657450726f64756374417474536574496e73744465736328297d222f3e0a202020203c636f6c756d6e206e616d653d226c6162656c2e76616c7565222077696474683d2238302220616c69676e3d227269676874222076616c75653d22266c743b68746d6c2667743b247b7469636b65746c696e652e7072696e7456616c756528297d2369662028247469636b65746c696e652e676574446973636f756e74526174652829203e20302e3029266c743b62722667743b2d247b7469636b65746c696e652e7072696e74446973636f756e745261746528297d23656e64222f3e0a3c2f6c696e653e0a'),
('14', 'Menu.Root', 0, '\x2f2f20202020504f532d546563680a2f2f2020202042617365642075706f6e204f70656e627261766f20504f530a2f2f0a2f2f20202020436f707972696768742028432920323030372d32303039204f70656e627261766f2c20532e4c2e0a2f2f202020202020202020202020202020202020202020202032303132205341524c2053434f4f50205363696c2028687474703a2f2f7363696c2e636f6f70290a2f2f0a2f2f20202020546869732066696c652069732070617274206f6620504f532d546563682e0a2f2f0a2f2f20202020504f532d54656368206973206672656520736f6674776172653a20796f752063616e2072656469737472696275746520697420616e642f6f72206d6f646966790a2f2f20202020697420756e64657220746865207465726d73206f662074686520474e552047656e6572616c205075626c6963204c6963656e7365206173207075626c69736865642062790a2f2f20202020746865204672656520536f66747761726520466f756e646174696f6e2c206569746865722076657273696f6e2033206f6620746865204c6963656e73652c206f720a2f2f2020202028617420796f7572206f7074696f6e2920616e79206c617465722076657273696f6e2e0a2f2f0a2f2f20202020504f532d5465636820697320646973747269627574656420696e2074686520686f706520746861742069742077696c6c2062652075736566756c2c0a2f2f2020202062757420574954484f555420414e592057415252414e54593b20776974686f7574206576656e2074686520696d706c6965642077617272616e7479206f660a2f2f202020204d45524348414e544142494c495459206f72204649544e45535320464f52204120504152544943554c415220505552504f53452e2020536565207468650a2f2f20202020474e552047656e6572616c205075626c6963204c6963656e736520666f72206d6f72652064657461696c732e0a2f2f0a2f2f20202020596f752073686f756c642068617665207265636569766564206120636f7079206f662074686520474e552047656e6572616c205075626c6963204c6963656e73650a2f2f20202020616c6f6e67207769746820504f532d546563682e20204966206e6f742c20736565203c687474703a2f2f7777772e676e752e6f72672f6c6963656e7365732f3e2e0a0a2020202067726f7570203d206d656e752e61646447726f757028224d656e752e4d61696e22293b0a2020202067726f75702e61646450616e656c28226d656e755f67656e657269632e706e67222c20224d656e752e5469636b6574222c202266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b657453616c657322293b0a2020202067726f75702e61646450616e656c28226d656e755f67656e657269632e706e67222c20224d656e752e5469636b657445646974222c202266722e70617374657175652e706f732e73616c65732e4a50616e656c5469636b6574456469747322293b0a2020202067726f75702e61646450616e656c28226d656e755f67656e657269632e706e67222c20224d656e752e437573746f6d6572735061796d656e74222c202266722e70617374657175652e706f732e637573746f6d6572732e437573746f6d6572735061796d656e7422293b0a2020202067726f75702e61646450616e656c28226d656e755f67656e657269632e706e67222c20224d656e752e5061796d656e7473222c202266722e70617374657175652e706f732e70616e656c732e4a50616e656c5061796d656e747322293b0a2020202067726f75702e61646450616e656c28226d656e755f67656e657269632e706e67222c20224d656e752e436c6f7365545056222c202266722e70617374657175652e706f732e70616e656c732e4a50616e656c436c6f73654d6f6e657922293b0a0a2020202067726f7570203d206d656e752e61646447726f757028224d656e752e4261636b6f666669636522293b0a2020202067726f75702e6164644261636b4f6666696365416374696f6e28293b0a2020202067726f7570203d206d656e752e61646447726f757028224d656e752e53797374656d22293b0a2020202067726f75702e6164644368616e676550617373776f7264416374696f6e28293b0a2020202067726f75702e61646450616e656c28226d656e755f73657474696e67732e706e67222c20224d656e752e436f6e66696775726174696f6e222c202266722e70617374657175652e706f732e636f6e6669672e4a50616e656c436f6e66696775726174696f6e22293b0a2020202067726f75702e61646450616e656c28226d656e755f7072696e7465722e706e67222c20224d656e752e5072696e746572222c202266722e70617374657175652e706f732e70616e656c732e4a50616e656c5072696e74657222293b0a2020202067726f75702e61646445786974416374696f6e28293b0a0a');
